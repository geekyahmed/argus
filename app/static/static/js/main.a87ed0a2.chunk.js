(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{150:function(n,e,t){},173:function(n,e){},254:function(n,e,t){"use strict";t.r(e);var o=t(0),a=t.n(o),r=t(24),i=t.n(r),c=(t(150),t(61)),s=t(44),d=t.n(s),l=t(90),u=t(107),p=t(63),f=t(131),b=t.n(f),m=t(17),h=Object(o.createContext)(),j=b()(window.location.origin,{path:"/argus-websocket-server/"});j.on("connect",(function(){console.log("Websocket conncected to argus server")})),j.on("disconnect",(function(){console.log("Disconnecting from argus server")}));var g,x,v,O,y=function(n){var e=n.children;return Object(m.jsx)(h.Provider,{value:{socket:j},children:e})},k=t(62),w=t(259),S=t(260),_=t(258),C=t(132),I=t.n(C),q=t(261),N=t(91),D=t.n(N);var P=function(){var n,e,t,a,r,i,c,s,f,b,j,g,x,v=Object(o.useContext)(h).socket,O=Object(o.useState)([]),y=Object(p.a)(O,2),k=y[0],S=y[1],_=Object(o.useState)(!1),C=Object(p.a)(_,2),N=C[0],P=C[1],A=Object(o.useState)(!1),R=Object(p.a)(A,2),E=R[0],W=R[1],F=Object(o.useState)(null),H=Object(p.a)(F,2),B=H[0],U=H[1],J=[201,200,304],V=w.a.TabPane;function G(){return(G=Object(l.a)(d.a.mark((function n(e){var t,o;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(e),P(!0),n.next=4,fetch("".concat(window.location.pathname,"api/logs/").concat(e));case 4:return n.next=6,n.sent.json();case 6:t=n.sent,o=t.data,U(o),P(!1),K();case 11:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function K(){W(!E)}Object(o.useEffect)((function(){function n(){return e.apply(this,arguments)}function e(){return(e=Object(l.a)(d.a.mark((function n(){var e,t;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(window.location.pathname,"api/logs"));case 2:return n.next=4,n.sent.json();case 4:e=n.sent,t=e.data,S(Object(u.a)(t)),P(!1);case 8:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return P(!0),v.on("new_request",(function(n){var e=n.request,t=n.response,o={logId:n._id,method:e.method,path:e.path,status:t.status,duration:e.duration,timestamp:e.timestamp};S((function(n){return[o].concat(Object(u.a)(n))}))})),Object(l.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))(),function(){v.off("new_request")}}),[]);var Q=[{title:"VERB",dataIndex:"method",key:"method"},{title:"PATH",dataIndex:"path",key:"path"},{title:"STATUS",dataIndex:"status",key:"status",render:function(n){return Object(m.jsx)("span",{className:"badge ".concat(J.includes(n)?"":"red"),children:n})}},{title:"DURATION",dataIndex:"duration",key:"duration"},{title:"HAPPENED",dataIndex:"timestamp",key:"timestamp",render:function(n){return Object(m.jsx)("span",{className:"date",children:I()(n).fromNow()})}},{title:"VIEW LOG",dataIndex:"logId",key:"logId",render:function(n){return Object(m.jsx)(q.a,{className:"viewLog",onClick:function(){return function(n){return G.apply(this,arguments)}(n)}})}}];return Object(m.jsxs)(T,{children:[Object(m.jsxs)("div",{className:"innerWrapper",children:[Object(m.jsxs)("div",{className:"liveSection",children:["Live Monitoring : ",Object(m.jsx)("button",{children:"Connected"})]}),Object(m.jsx)(z,{loading:N,pagination:{position:["bottomCenter"]},dataSource:k,columns:Q})]}),Object(m.jsxs)(L,{children:["Argus Logger"," ",Object(m.jsx)("a",{href:"https://github.com/iamnasirudeen/argus",target:"_blank",rel:"noreferrer",children:"Repository"})]}),Object(m.jsxs)(M,{width:450,title:"Request & Response Details",placement:"left",onClose:K,visible:E,children:[Object(m.jsxs)("p",{children:["Hostname: ",null===B||void 0===B||null===(n=B.request)||void 0===n?void 0:n.hostname]}),Object(m.jsxs)("p",{children:["Client IP: ",null===B||void 0===B||null===(e=B.request)||void 0===e?void 0:e.ipAddress]}),Object(m.jsxs)("p",{children:["Method: ",null===B||void 0===B||null===(t=B.request)||void 0===t?void 0:t.method]}),Object(m.jsxs)("p",{children:["Status: ",null===B||void 0===B||null===(a=B.response)||void 0===a?void 0:a.status]}),Object(m.jsxs)("p",{children:["Path: ",null===B||void 0===B||null===(r=B.request)||void 0===r?void 0:r.path]}),Object(m.jsxs)("p",{children:["URL: ",null===B||void 0===B||null===(i=B.request)||void 0===i?void 0:i.url]}),Object(m.jsxs)("p",{children:["Time Spent: ",null===B||void 0===B||null===(c=B.request)||void 0===c?void 0:c.duration]}),Object(m.jsxs)(w.a,{defaultActiveKey:"1",children:[Object(m.jsx)(V,{tab:"Payload",children:Object(m.jsx)(D.a,{themeClassName:"theme",data:(null===B||void 0===B||null===(s=B.request)||void 0===s||null===(f=s.body)||void 0===f?void 0:f[0])||{}})},"1"),Object(m.jsx)(V,{tab:"Headers",children:Object(m.jsx)(D.a,{themeClassName:"theme",data:(null===B||void 0===B||null===(b=B.request)||void 0===b||null===(j=b.headers)||void 0===j?void 0:j[0])||{}})},"2"),Object(m.jsx)(V,{tab:"Responses",children:Object(m.jsx)(D.a,{themeClassName:"theme",data:(null===B||void 0===B||null===(g=B.response)||void 0===g||null===(x=g.body)||void 0===x?void 0:x[0])||{}})},"3")]})]})]})},M=Object(k.a)(S.a)(g||(g=Object(c.a)(['\n  font-family: DM Sans;\n  font-weight: bold;\n\n  .theme {\n    padding: 1rem;\n    background: #252526;\n    font-family: Consolas, "Courier New", monospace;\n    font-weight: normal;\n    font-size: 13px;\n    font-feature-settings: "liga", "calt";\n    line-height: 18px;\n    letter-spacing: 0px;\n    color: #d4d4d4;\n    border-radius: 10px;\n\n    .__json-key__ {\n      color: #9cdcfe;\n    }\n\n    .__json-value__ {\n      color: #9cdcfe !important;\n    }\n\n    .__json-string__ {\n      color: #b5cea8;\n    }\n    .__json-boolean__ {\n      color: #569cd6;\n    }\n  }\n']))),L=k.a.div(x||(x=Object(c.a)(["\n  padding: 1rem;\n  text-align: center;\n  background: #0d1117;\n  color: #fff;\n  font-family: DM Sans;\n\n  a {\n    color: #ffffff;\n    text-decoration: underline;\n  }\n"]))),T=k.a.div(v||(v=Object(c.a)(['\n  background-color: #edf2f7 !important;\n\n  .viewLog {\n    font-size: 20px;\n    color: green;\n    opacity: 0.8;\n  }\n\n  .innerWrapper {\n    padding: 3rem;\n  }\n\n  .liveSection {\n    margin-bottom: 2rem;\n    font-family: DM Sans;\n    font-size: 14px;\n    font-weight: bold !important;\n\n    button {\n      background-color: #48bb78 !important;\n      color: #fff !important;\n      border: none;\n      outline: none;\n      border-radius: 5px;\n      padding: 6px 10px 6px 10px;\n    }\n  }\n\n  ul {\n    background-color: #edf2f7;\n\n    &.ant-pagination.ant-table-pagination.ant-table-pagination-right {\n      margin-right: 20px !important;\n\n      li {\n        border-radius: 8px;\n\n        &.ant-pagination-item-active {\n          background: #0052cc !important;\n\n          a {\n            color: #ffffff !important;\n          }\n        }\n\n        a {\n          font-family: "Work Sans", sans-serif;\n          font-style: normal;\n          font-weight: normal;\n          font-size: 15px;\n          text-align: center;\n        }\n      }\n    }\n  }\n\n  table {\n    background-color: #edf2f7;\n\n    thead {\n      tr {\n        th {\n          font-family: DM Sans;\n          font-style: normal;\n          font-weight: bold;\n          font-size: 12px;\n          line-height: 20px;\n          letter-spacing: 1px;\n          text-transform: uppercase;\n          background: #ffffff;\n          color: #8f92a1;\n        }\n      }\n    }\n    tbody {\n      background: #ffffff;\n      box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075) !important;\n      tr {\n        td {\n          font-family: DM Sans;\n          font-weight: bold;\n          font-size: 13px;\n          color: #171717;\n\n          padding-top: 10px;\n          padding-bottom: 10px;\n\n          span.date {\n            font-family: DM Sans;\n            font-style: normal;\n            font-weight: bold;\n            font-size: 12px;\n            line-height: 20px;\n            text-align: right;\n            letter-spacing: 1px;\n            text-transform: uppercase;\n            color: #8f92a1;\n          }\n\n          span.badge {\n            padding: 0.2rem 0.5rem 0.2rem 0.5rem;\n            background: #c6f6d5;\n            opacity: 0.5;\n            border-radius: 9999px;\n            top: 0;\n            right: 0;\n            bottom: 0;\n            left: 0;\n\n            &.red {\n              color: red !important;\n              background: #fcdbdd !important;\n            }\n          }\n        }\n      }\n    }\n  }\n']))),z=Object(k.a)(_.a)(O||(O=Object(c.a)([""]))),A=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,262)).then((function(e){var t=e.getCLS,o=e.getFID,a=e.getFCP,r=e.getLCP,i=e.getTTFB;t(n),o(n),a(n),r(n),i(n)}))};t(253);i.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(y,{children:Object(m.jsx)(P,{})})}),document.getElementById("root")),A()}},[[254,1,2]]]);
//# sourceMappingURL=main.a87ed0a2.chunk.js.map